<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
  </style>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>
  <script>

  var data = [{"x": 100.0, "y": 100.1}, {"x": 200.0, "y": 200.5}];
  var CHART_WIDTH = 500,
      CHART_HEIGHT = 300;

  var chart_area = d3
    .select('body')
    .append('svg')
    .attr('class', 'chart_area') // Задаем класс
    // При задании размеров и координат единицы измерения не указываются
    .attr('width', CHART_WIDTH)    // ширина
    .attr('height', CHART_HEIGHT)  // и высота
  ;

  /*var circle = chart_area.selectAll('circle')
    .data(data);
  circle.exit().remove();
  circle.enter().append('circle').attr('r', 50);
  circle
    .attr("cx", function(d) { return d.x; })
    .attr("cy", function(d) { return d.y; });*/

  var data1 = [{'id': 0}, {'id': 1}, {'id': 2}, {'id': 3}];
  var data2 = [{'id': 0}, {'id': 1}, {'id': 5}, {'id': 6}, {'id': 7}];

  var circle1 = chart_area.selectAll('circle')
    .data(data1, function(d) { return d.id; });
      circle1.exit().remove();
      circle1.enter().append('circle').attr('r', 50);
      circle1
          .attr("cx", 100)
          .attr("cy", 100);

  var circle2 = chart_area.selectAll('circle')
    .data(data2, function(d) { return d.id; });
      circle2.exit().remove();
      circle2.enter().append('circle').attr('r', 50);
      circle2
          .attr("cx", 200)
          .attr("cy", 200);

/*  var circle2 = chart_area.selectAll('circle')
    .data(data2, function(d) { return d.id; });

    circle2.enter().append('circle');
    circle2.exit().remove();
    circle2.text(function(d) { return d.height; });*/

  /*circle1.text(function(d, i) {
    console.log(this);
    console.log(i, "-", d);
    return (d + 2 * i);
})*/

  </script>
</body>
</html>
